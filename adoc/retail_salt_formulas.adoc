[[retail.formulas]]
= {smr} Salt Formulas
ifdef::env-github,backend-html5,backend-docbook5[]
//Admonitions
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
:linkattrs:
// SUSE ENTITIES FOR GITHUB
// System Architecture
:zseries: z Systems
:ppc: POWER
:ppc64le: ppc64le
:ipf : Itanium
:x86: x86
:x86_64: x86_64
// Rhel Entities
:rhel: Red Hat Enterprise Linux
:rhnminrelease6: Red Hat Enterprise Linux Server 6
:rhnminrelease7: Red Hat Enterprise Linux Server 7
// SUSE Manager Entities
:productname: <PRODUCTNAME>
:susemgr: SUSE Manager
:smr: SUSE Manager for Retail
:susemgrproxy: SUSE Manager Proxy
:productnumber: 3.2
:saltversion: 2018.3.0
:webui: Web UI
// SUSE Product Entities
:sles-version: 12
:sp-version: SP3
:jeos: JeOS
:scc: SUSE Customer Center
:sls: SUSE Linux Enterprise Server
:sle: SUSE Linux Enterprise
:slsa: SLES
:suse: SUSE
:ay: AutoYaST
endif::[]
// Asciidoctor Front Matter
:doctype: book
:sectlinks:
:toc: left
:icons: font
:experimental:
:sourcedir: .
:imagesdir: images


This section provides an introduction to Salt Formulas shipped with {smr}.
These formulas such as the PXE boot, branch server network, or saltboot formulas are used to fine-tune the {smr} infrastructure.



[[retail.formulas.pxe]]
== Pxe Formula
The Pxe formula ([package]``pxe-formula``) for installing, setting up, and uninstalling syslinux PXE boot on the POS branchserver.

.pxe formula
[[fig-formula-pxe]]
image::formula-pxe.png[]

////
Kernel filename:
Initrd filename:
Kernel commandline parameters:
PXE root directory:
Branch id:
////



[[retail.formulas.branch-network]]
== Branch Network Formula

The Branch Network formula ([package]``branch-network-formula``) for configuring the branch server network.


.branch network formula
[[fig-formula-branch-network]]
image::formula-branch-network.png[]


////
Dedicated Nic:
Nic:
Ip:
Netmask:
Enable Route:
Enable Nat:
Forwarder:
Forwarder Fallback:
server directory:
server directory user:
server directory group:
////


[[retail.formulas.saltboot]]
== Saltboot Formula

The Saltboot formula ([package]``saltboot-formula``) is a formula for configuring a boot image of a POS terminal.


.saltboot formula
[[fig-formula-saltboot-01]]
image::formula-saltboot-01.png[]

Then you configure one or more partitions:

.saltboot formula partitions
[[fig-formula-saltboot-02]]
image::formula-saltboot-02.png[]


////
////


[[retail.formulas.image-sync]]
== Image Sync Formula

The Image Sync formula ([package]``image-sync-formula``) is a formula for syncing images to a Branch Server.

For now, there is nothing configurable and it is not part of the highstate.
This means it is not visible in the {webui}.  Apply it from the command-line or via cron as follows (replace _<branchserver>_ with the name of your branch server):

----
salt <branchserver> state.apply image-sync
----

// Related issue: https://github.com/SUSE/spacewalk/issues/2714



////
.saltboot formula
[[fig-formula-saltboot-01]]
image::formula-saltboot-01.png[]

Then you configure one or more partitions:

.saltboot formula partitions
[[fig-formula-saltboot-02]]
image::formula-saltboot-02.png[]
////

////
////
